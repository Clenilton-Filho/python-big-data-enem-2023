# ENEM - An√°lise de dados socioecon√¥micos e predi√ß√£o de m√©dia do usu√°rio

![Python](https://img.shields.io/badge/python-3.10%2B-blue?style=for-the-badge&logo=python&logoColor=white)
![Pandas](https://img.shields.io/badge/pandas-%23150458.svg?style=for-the-badge&logo=pandas&logoColor=white)
![Scikit-Learn](https://img.shields.io/badge/scikit--learn-%23F7931E.svg?style=for-the-badge&logo=scikit-learn&logoColor=white)
![LightGBM](https://img.shields.io/badge/LightGBM-%23150458.svg?style=for-the-badge&logo=lightgbm&logoColor=white)

> Projeto de extens√£o para a disciplina "T√≥picos de Big Data em Python".

---

## üìå Sobre o Projeto

Este projeto investiga como a desigualdade social influencia o desempenho no Exame Nacional do Ensino M√©dio (ENEM). Utilizando microdados p√∫blicos do INEP (com ~4 milh√µes de registros), desenvolvemos um pipeline de Ci√™ncia de Dados para tratar, analisar e modelar esses dados, resultando em uma base limpa com ~2 milh√µes de registros relevantes para o projeto.

O objetivo final foi a cria√ß√£o de um **Simulador de Nota M√©dia** capaz de predizer o desempenho de um usu√°rio com base em apenas 10 indicadores socioecon√¥micos.

---

### üë• Autores
* **Clenilton** (Modelagem ML)
* **Misael** (Coleta e Tratamento)
* **Sol√°rio** (Desenvolvimento do Simulador)
* **Vitor** (An√°lise de Dados/EDA)
* **Kairos** (Documenta√ß√£o)

---

## üõ†Ô∏è Pipeline do Projeto

O projeto seguiu o fluxo cl√°ssico de KDD (Knowledge Discovery in Databases):

![Fluxograma do Projeto](./evidencias/kairos_documentacao/organograma_etapas.png)

1.  **Coleta e Tratamento:** Limpeza de ~1.7GB de dados brutos para ~250MB e engenharia de features.
2.  **An√°lise de Dados (EDA):** Estudo visual das correla√ß√µes (Renda, Tipo de Escola, etc.).
3.  **Modelagem (Machine Learning):** Treinamento e otimiza√ß√£o de modelos (Linear, RF, LightGBM) e Clustering (MiniBatchKMeans).
4.  **Predi√ß√£o de Nota (Simulador):** Desenvolvimento de interface via terminal para predi√ß√£o de nota m√©dia.

---

## üìä An√°lise e Resultados

A an√°lise confirmou a forte correla√ß√£o entre fatores socioecon√¥micos e desempenho. 

Abaixo, a distribui√ß√£o da nota m√©dia por categoria socioecon√¥mica:

![Nota M√©dia por Renda](./evidencias/vitor_analise_de_dados/grafico_categoria_nota_media.png)

> Quanto maior a categoria socioecon√¥mica, maior a nota m√©dia observada. Isso refor√ßa a influ√™ncia dos fatores sociais no desempenho dos participantes.

### üìê M√©tricas utilizadas

| Modelo | MAE (Erro M√©dio Absoluto) | R¬≤ (Vari√¢ncia Explicada) | Acur√°cia (Derivada do MAPE) |
| :--- |:-------------------------:|:------------------------:|:------------------------:|
| Regress√£o Linear |           58.06           |          34.94%          |          88.88%          |
| Random Forest |           57.24           |          36.53%          |          89.04%          |
| **LightGBM (Escolhido)** |         **57.04**         |        **37.06%**        |          **89.08%**          |

> **Insight:** Com os modelos escolhidos, vari√°veis socioecon√¥micas observ√°veis explicam ~37% da varia√ß√£o da nota m√©dia no conjunto de dados usado. Isso indica uma influ√™ncia relevante, mas ~60% da varia√ß√£o permanece n√£o explicada por essas vari√°veis e pode decorrer de fatores individuais, como motiva√ß√£o, ou de medida n√£o observados.

> ‚ÑπÔ∏è **Nota sobre a m√©trica de acur√°cia:**  
> Como trabalhamos com regress√£o, a acur√°cia foi definida de forma personalizada como `1 - MAPE`.  
> Exemplo: se a nota real for 1000 e a acur√°cia for 90%, o modelo pode ter previsto 900.

---

## üíª Como Executar o Projeto

### Pr√©-requisitos
* Python 3.10+

### Instala√ß√£o
1) Criar e ativar o ambiente virtual:

```bash
python -m venv .venv
.venv\Scripts\Activate
```

2) Instalar depend√™ncias:

```bash
pip install -r requirements.txt
```

---

## ‚ö° Uso r√°pido
- üéØ Para testar o Simulador (Resultado Final)

```bash
python scripts/inputs.py
```


### Bases de Dados

./dados/enem_2023_limpo.zip

- Base de dados principal gerada pelo tratamento dos microdados do enem 2023, retirada do portal do INEP.

./dados/municipios_rm_limpo.csv

- Base de dados com nomes e c√≥digos de munic√≠pios que comp√µem regi√µes metropolitanas, gerada pelo tratamento do arquivo 'Recortes Metropolitanos e Aglomera√ß√µes Urbanas' do portal do IBGE.

### An√°lise de Dados

./notebooks/grafico_base_atual.ipynb

- Notebook para gerar gr√°ficos relevantes, incluindo m√©dia por categoria de renda.


./notebooks/teste_elbow_kmeans.ipynb

- Notebook usado para gerar um gr√°fico do teste do m√©todo elbow para os dados.


### Scripts .py em ordem de execu√ß√£o

./scripts/filtragem_inicial.py

- Realiza a limpeza e filtragem dos dados.

./scripts/treino_modelos.py

- Treina os modelos e salva em 'modelos/'

./scripts/inputs.py

- Script que prediz uma nota m√©dia geral do usu√°rio para o ENEM 2023 pedindo somente dados socioecon√¥micos.